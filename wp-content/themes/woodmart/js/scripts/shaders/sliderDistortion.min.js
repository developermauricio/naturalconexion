!function(a){woodmartThemeModule.$document.on("wdCarouselFlickityInited",function(){woodmartThemeModule.sliderDistortion()}),woodmartThemeModule.sliderDistortion=function(){var b=a(".wd-slider-wrapper.anim-distortion");"undefined"==typeof ShaderX||woodmartThemeModule.$body.hasClass("single-woodmart_slide")||b.each(function(){var b=a(this),c=b.find(".wd-slide"),d=c.eq(0).data("image-url"),e=c.eq(1).data("image-url");if(!b.hasClass("webgl-inited")&&d&&e){b.addClass("webgl-inited");var f=new ShaderX({container:b.find(".flickity-viewport"),sizeContainer:b,vertexShader:woodmartThemeModule.shaders.matrixVertex,fragmentShader:woodmartThemeModule.shaders[woodmart_settings.slider_distortion_effect]?woodmartThemeModule.shaders[woodmart_settings.slider_distortion_effect]:woodmartThemeModule.shaders.sliderWithWave,width:b.outerWidth(),height:b.outerHeight(),distImage:"sliderPattern"===woodmart_settings.slider_distortion_effect&&woodmart_settings.theme_url+"/images/dist11.jpg"});f.loadImage(d,0,function(){b.addClass("wd-canvas-image-loaded")}),f.loadImage(d,1),f.loadImage(e,0,void 0,!0),b.on("change.flickity",function(a,b){(d=c.eq(b).data("image-url"))&&(f.replaceImage(d),c.eq(b+1).length>0&&(e=c.eq(b+1).data("image-url"))&&f.loadImage(e,0,void 0,!0))})}})}}(jQuery);