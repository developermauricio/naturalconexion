!function(a){woodmartThemeModule.headerBuilder=function(){function b(){k||(k=!0,f.addClass("whb-sticked"),d())}function c(){k&&(k=!1,f.removeClass("whb-sticked"),d())}function d(){f.hasClass("whb-boxed")&&(a(".wd-offsets-calculated .wd-dropdown-menu").attr("style",""),a(".wd-offsets-calculated").removeClass("wd-offsets-calculated"),woodmartThemeModule.$window.trigger("wdHeaderBuilderStickyChanged"))}var e,f=a(".whb-header"),g=a(".header-banner"),h=a(".whb-sticky-row"),i="",j=woodmartThemeModule.$window,k=!1,l=300,m="",n=f.hasClass("whb-hide-on-scroll");if(h.each(function(){var b=a(this);if(b[0].offsetHeight>10)return i=b,!1}),f.hasClass("whb-sticky-real")||f.hasClass("whb-scroll-slide")){var o=a("#wpadminbar"),p=f.find(".whb-main-header")[0].offsetHeight,q=o.length>0?o[0].offsetHeight:0;if(f.hasClass("whb-sticky-real")){if(0===i.length||i[0].offsetHeight<10)return;f.addClass("whb-sticky-prepared").css({paddingTop:p}),l=i.offset().top-q}f.hasClass("whb-scroll-slide")&&(l=p+q)}if(f.hasClass("whb-sticky-clone")){var r=[];r.cloneClass=f.find(".whb-general-header").attr("class"),n&&(r.wrapperClasses="whb-hide-on-scroll"),m=woodmart_settings.whb_header_clone,m=m.replace(/<%([^%>]+)?%>/g,function(b){var c=b.slice(2,-2);return f.find(c).length?a("<div>").append(f.find(c).first().clone()).html():void 0!==r[c]?r[c]:""}),m=m.replace(/<link[^>]*>/g,""),f.after(m),f=f.parent().find(".whb-clone"),f.find(".whb-row").removeClass("whb-flex-equal-sides").addClass("whb-flex-flex-middle")}j.on("scroll",function(){var d=l,h=woodmartThemeModule.$window.scrollTop(),i=woodmartThemeModule.$window.height(),j=woodmartThemeModule.$document.height();g.length>0&&woodmartThemeModule.$body.hasClass("header-banner-display")&&(d+=g[0].offsetHeight),!a(".close-header-banner").length&&f.hasClass("whb-scroll-stick")&&(d=l),h>d?b():c();var k=100;f.hasClass("whb-scroll-stick")&&(k=500),n&&(e-h>0&&h>d?(f.addClass("whb-scroll-up"),f.removeClass("whb-scroll-down")):h-e>0&&h+i!==j&&h>d+k?(f.addClass("whb-scroll-down"),f.removeClass("whb-scroll-up")):h<=d?(f.removeClass("whb-scroll-down"),f.removeClass("whb-scroll-up")):h+i>=j-5&&(f.addClass("whb-scroll-up"),f.removeClass("whb-scroll-down"))),e=h}),woodmartThemeModule.$document.trigger("wdHeaderBuilderInited")},woodmartThemeModule.$window.on("wdEventStarted",function(){woodmartThemeModule.headerBuilder()})}(jQuery);