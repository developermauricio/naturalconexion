jQuery(document).ready((function(t){"use strict";var i=!1,o=function(i,o,a){var n=i.find(".yith-wfbt-items input"),e=[],r=[];n.each((function(i){e[i]=this.value,t(this).is(":checked")||r.push(this.value)})),i.block({message:null,overlayCSS:{background:"#fff url("+yith_wfbt.loader+") no-repeat center",opacity:.6}}),t.ajax({type:"post",url:yith_wfbt.ajaxurl.toString().replace("%%endpoint%%",yith_wfbt.refreshForm),data:{action:yith_wfbt.refreshForm,product_id:i.find('input[name="yith-wfbt-main-product"]').val(),variation_id:a,group:e,unchecked:r,context:"frontend"},dataType:"html",success:function(t){o.replaceWith(t)},complete:function(){i.unblock(),t(document).trigger("yith_wfbt_form_updated",[i])}})};t(document).on("change",".yith-wfbt-items input",(function(){t(this).closest(".yith-wfbt-item").hasClass("choise-variation");o(t(this).closest(".yith-wfbt-form"),t(this).closest(".yith-wfbt-section"),0)})),t(document).on("show_variation",".variations_form",(function(a,n){!i&&n.is_in_stock&&o(t(".yith-wfbt-form"),t(".yith-wfbt-section"),n.variation_id)}));var a=function(){var i=t(document).find(".yith-wfbt-products-list"),o=i.next(".yith-wfbt-slider-nav");i.length&&(i.owlCarousel({loop:!0,dots:!1,responsive:{0:{items:2},480:{items:3},768:{items:yith_wfbt.visible_elem}}}),o.length&&(o.find(".yith-wfbt-nav-prev").click((function(){i.trigger("prev.owl.carousel")})),o.find(".yith-wfbt-nav-next").click((function(){i.trigger("next.owl.carousel")}))))};a(),t(document).on("yith_wcwl_reload_wishlist_from_frequently",a),t(document).on("click",".yith-wfbt-open-modal",(function(o){o.preventDefault();var a=t(this).data("product_id"),e=t(".yith-wfbt-form"),r=t("#yith-wfbt-modal");e.block({message:null,overlayCSS:{background:"#fff url("+yith_wfbt.loader+") no-repeat center",opacity:.6}}),t.ajax({type:"post",url:yith_wfbt.ajaxurl.toString().replace("%%endpoint%%",yith_wfbt.loadVariationsDialog),data:{action:yith_wfbt.loadVariationsDialog,product_id:a,context:"frontend"},dataType:"html",success:function(t){i=!0,r.html(t),e.unblock(),r.modal(),n()},complete:function(){t(document).trigger("yith_wfbt_modal_opened",[e])}})}));var n=function(){t(".variations_form").each((function(){t(this).wc_variation_form()})),t(".variations_form.cart").on("found_variation",(function(i,o){t('input[name="yith-wfbt-variation-id"]').val(o.variation_id),o.availability_html&&t(".yith-wfbt-stock-status").html(o.availability_html),o.is_purchasable&&o.is_in_stock&&o.variation_is_visible?t("#yith-wfbt-submit-variation").prop("disabled",!1):t("#yith-wfbt-submit-variation").prop("disabled",!0)})),t(".variations_form.cart").on("click",".reset_variations",(function(i){t(".yith-wfbt-stock-status").html(""),t("#yith-wfbt-submit-variation").prop("disabled",!0)}))};t(document).on("click","#yith-wfbt-submit-variation",(function(i){var a=t('input[name="yith-wfbt-variation-id"]').val(),n=t('input[name="yith-wfbt-main-product-id"]').val(),e=t(".yith-wfbt-form");t.modal.close(),e.find("input[data-variable_product_id="+n+"]").prop("disabled",!1).prop("checked",!0).val(a),o(e,t(".yith-wfbt-section"),0)})),t(document).on("modal:after-close",(function(){i=!1,t("#yith-wfbt-modal").html("")}))}));