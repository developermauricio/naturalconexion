!function(t){"use strict";function s(s){t(".nav-tab-addon").each(function(){t(this).attr("class","nav-tab nav-tab-addon")}),t(s).attr("class","nav-tab nav-tab-addon nav-tab-active")}function e(s){t(".wrap-addon").each(function(){t(this).hide()}),t(s).show()}function n(s,e){s.forEach(function(s){t("#sms_order_texts_"+s).hide(),t("#sms_order_texts_"+s+" :input").attr("disabled",!0)}),e.forEach(function(s){t("#sms_order_payment_texts_"+s).hide(),t("#sms_order_payment_texts_"+s+" :input").attr("disabled",!0)}),t("#sms_texts_tags").hide(),t("#sms_payment_texts_tags").hide()}function a(s,e){s&&(t("#sms_order_texts_"+s).show(),t("#sms_order_texts_"+s+" :input").attr("disabled",!1),t("#sms_texts_tags").show()),e&&(t("#sms_order_payment_texts_"+e).show(),"billet"!==e?t("#sms_order_payment_texts_"+e+" :input").attr("disabled",!1):(t("#sms_order_payment_texts_"+e+" :input[name='egoi_sms_order_payment_text_pt_BR']").attr("disabled",!1),t("#sms_order_payment_texts_"+e+" :input[name='egoi_sms_order_reminder_text_pt_BR']").attr("disabled",!1),t("#sms_order_payment_texts_"+e+" :input[type='submit']").attr("disabled",!1)),t("#sms_payment_texts_tags").show())}function o(){t("#admin_phone").val().length>=6?t(".admin-order-status").prop("disabled",!1):t(".admin-order-status").prop("disabled",!0)}t(document).ready(function(){var r=["en","es","pt","pt_BR"],i=["multibanco","payshop","billet"],d=t("#form_info").data("form-id"),_=t("#form_info").data("form-lang"),m=t("#form_info").data("form-method");if(t("#form_info").length&&"form-sms-order-senders"!=d&&"form-sms-order-tests"!=d&&""!=d){var u=d.split("-"),c="tab-sms-"+u[3];void 0!==u[4]&&(c=c+"-"+u[4]),s("#nav-"+c),e("#"+c),t("#sms_text_language").val(_),t("#sms_payment_methode").val(m),n(r,i),a(_,m)}else e("#tab-sms-senders"),n(r,i);t(".nav-tab-addon").on("click",function(){s(this),e("#"+t(".nav-tab-active").attr("id").substring(4))}),t("#sms_text_language").on("change",function(){var s=t(this).val(),e=t("#sms_payment_method").val();n(r,i),a(s,e)}),t("#sms_payment_method").on("change",function(){var s=t(this).val(),e=t("#sms_text_language").val();n(r,i),a(e,s)}),t("#button-test-sms").on("click",function(){t("#test-sms").show()});var l="",f=0;t(".sms_texts_tags_button").on("click",function(){var s=t(this).data("text-cod");if(""!==l){var e=l.val(),n=e.substring(0,f)+s+e.substring(f);l.val(n).focus()}}),t("#form-sms-order-texts textarea").focusout(function(){l=t(this),f=t(this).getCursorPosition()}),t("#form-sms-order-payment-texts textarea").focusout(function(){l=t(this),f=t(this).getCursorPosition()});var h=t("#sender_hash");null==h.val()&&(t("#form-sms-order-senders :input").prop("disabled",!0),h.prop("disabled",!1)),h.on("change",function(){t("#form-sms-order-senders :input").prop("disabled",!1),o()}),t("#admin_phone").length&&(o(),t("#admin_phone").on("input",function(){o()})),t("#button_view_help").on("click",function(){s("#nav-tab-sms-help"),e("#tab-sms-help")})})}(jQuery),function(t){t.fn.getCursorPosition=function(){var s=t(this).get(0),e=0;if("selectionStart"in s)e=s.selectionStart;else if("selection"in document){s.focus();var n=document.selection.createRange(),a=document.selection.createRange().text.length;n.moveStart("character",-s.value.length),e=n.text.length-a}return e}}(jQuery);